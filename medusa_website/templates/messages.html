<!-- See https://stackoverflow.com/questions/14999134/how-to-pass-a-message-from-httpresponseredirect-in-django
 Ignore caches for messages to avoid messages been shown across refreshes
https://docs.djangoproject.com/en/3.2/topics/cache/#template-fragment-caching

-->
{% load cache %}
{% cache 5 message_cache %}
  {% if messsages %}
    <ul class="messages">
      {% for message in messages %}
        <li>
          <div
            class="alert {% if message.tags %}alert-{% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}danger{% else %}{{ message.tags }}{% endif %}{% endif %}"
            role="alert">
            {{ message }}
          </div>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endcache %}
